<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EcoSafar â€¢ Smart Waste Management</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Inter", sans-serif;
}

body {
    background: linear-gradient(145deg, #f4fcf4, #e8f5ea);
    color: #123a2d;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.container {
    width: 90%;
    max-width: 1100px;
    margin: auto;
    padding: 60px 0 80px 0;
    text-align: center;
}

h1 {
    font-size: 2.9rem;
    font-weight: 800;
    color: #0e4d3b;
    margin-top: 5px;
}

.tag {
    font-size: 1.15rem;
    opacity: 0.75;
    margin-top: 6px;
    letter-spacing: 0.5px;
    color: #17694f;
}

.home-grid {
    margin-top: 55px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 35px;
}

.card {
    background: #ffffffef;
    padding: 30px 26px;
    border-radius: 22px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.07);
    transition: 0.25s ease;
    text-align: left;
}

.card h2 {
    color: #0f6046;
    margin-bottom: 14px;
    font-size: 1.7rem;
}

.card p {
    font-size: 1rem;
    color: #2a3a2d;
    opacity: 0.85;
    margin-bottom: 24px;
    line-height: 1.55;
}

.btn {
    display: inline-block;
    background: #0f7a52;
    color: white;
    padding: 12px 26px;
    border-radius: 14px;
    text-decoration: none;
    font-weight: 600;
}

footer {
    margin-top: auto;
    padding: 25px 0;
    font-size: 0.95rem;
    opacity: 0.7;
}

.logo {
    width: 200px;
    display: block;
    margin: 0 auto 15px;
}
</style>
</head>

<body>

<div class="container">

    <img src="logo.png" class="logo" alt="EcoSafar Logo">

    <h1>EcoSafar</h1>
    <p class="tag">Smart â€¢ Sustainable â€¢ Rewarding</p>

    <div class="home-grid">

        <!-- ðŸ”´ LIVE BIN STATUS CARD -->
        <div class="card">
            <h2>Live Bin Status</h2>
            <p>
                Bin Level: <strong><span id="binLevel">Loading...</span>%</strong><br>
                Status: <strong><span id="binStatus">Checking...</span></strong>
            </p>
        </div>

        <div class="card">
            <h2>Admin</h2>
            <p>Manage bins, alerts & resident accounts efficiently.</p>
            <a href="AdminLogin.html" class="btn">Admin Login</a>
        </div>

        <div class="card">
            <h2>User</h2>
            <p>Track points, view waste history, and redeem rewards.</p>
            <a href="UserLogin.html" class="btn">User Login</a>
        </div>

    </div>

</div>

<footer>
    Â© EcoSafar â€” Smart Waste Management
</footer>

<!-- ðŸ”¥ FIREBASE CONNECTION -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyC-ukbAaOdiEb65v9F7FuBzT0TTRoQHyxw",
  authDomain: "ecosafar-3da96.firebaseapp.com",
  databaseURL: "https://ecosafar-3da96-default-rtdb.firebaseio.com",
  projectId: "ecosafar-3da96",
  storageBucket: "ecosafar-3da96.firebasestorage.app",
  messagingSenderId: "972209472560",
  appId: "1:972209472560:web:39fcc096311b3006c6d9f5"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// ðŸ” READ BIN DATA
onValue(ref(db, "bin/level"), (snap) => {
  document.getElementById("binLevel").innerText = snap.val() ?? "--";
});

onValue(ref(db, "bin/status"), (snap) => {
  document.getElementById("binStatus").innerText = snap.val() ?? "Unknown";
});
</script>

</body>
</html>
